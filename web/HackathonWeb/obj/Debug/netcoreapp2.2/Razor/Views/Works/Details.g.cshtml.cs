#pragma checksum "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "9ec2cc1af718fbb8a8d6f001a144d0af8d0eded2"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Works_Details), @"mvc.1.0.view", @"/Views/Works/Details.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Works/Details.cshtml", typeof(AspNetCore.Views_Works_Details))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 2 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/_ViewImports.cshtml"
using HackathonWeb.Models;

#line default
#line hidden
#line 2 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
using HackathonWeb;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9ec2cc1af718fbb8a8d6f001a144d0af8d0eded2", @"/Views/Works/Details.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"877c1bf945176ee8f3810635253c20d56bd369d1", @"/Views/_ViewImports.cshtml")]
    public class Views_Works_Details : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<HackathonWeb.Context.Models.Work>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
  
    ViewData["Title"] = Model.Name;

#line default
#line hidden
            BeginContext(106, 17, true);
            WriteLiteral("\r\n<div>\r\n    <h4>");
            EndContext();
            BeginContext(124, 10, false);
#line 8 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
   Write(Model.Name);

#line default
#line hidden
            EndContext();
            BeginContext(134, 153, true);
            WriteLiteral("</h4>\r\n    <hr />\r\n    <dl class=\"row\">\r\n        <dt class=\"col-sm-4\">\r\n            Подрядчик\r\n        </dt>\r\n        <dd class=\"col-sm-8\">\r\n            ");
            EndContext();
            BeginContext(288, 47, false);
#line 15 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
       Write(Html.DisplayFor(model => model.Contractor.Name));

#line default
#line hidden
            EndContext();
            BeginContext(335, 143, true);
            WriteLiteral("\r\n        </dd>\r\n        <dt class=\"col-sm-4\">\r\n            Основной перечень работ\r\n        </dt>\r\n        <dd class=\"col-sm-8\">\r\n            ");
            EndContext();
            BeginContext(479, 43, false);
#line 21 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
       Write(Html.DisplayFor(model => model.WorkDetails));

#line default
#line hidden
            EndContext();
            BeginContext(522, 414, true);
            WriteLiteral(@"
        </dd>
    </dl>
    <div class=""row finance"">
        <div class=""col-md-12"">

            <h4>Финиансирование</h4>
            <hr />

        </div>
        <div class=""col-md-6"">
            <dl class=""row"">
                <dt class=""col-sm-12"">
                    Финансирование, всего

                </dt>
                <dd class=""col-sm-12 total-finance"">
                    ");
            EndContext();
            BeginContext(937, 76, false);
#line 38 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Helpers.ToKMB(Model.FinanceArea + Model.FinanceFederal + Model.FinanceLocal));

#line default
#line hidden
            EndContext();
            BeginContext(1013, 314, true);
            WriteLiteral(@"
            ₽


                </dd>
            </dl>

        </div>
        <div class=""col-md-6"">
            <dl class=""row"">
                <dt class=""col-sm-6"">
                    Краевой бюджет
                </dt>
                <dd class=""col-sm-6 finance-sum"">

                    ");
            EndContext();
            BeginContext(1328, 32, false);
#line 53 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Helpers.ToKMB(Model.FinanceArea));

#line default
#line hidden
            EndContext();
            BeginContext(1360, 206, true);
            WriteLiteral(" ₽\r\n\r\n                </dd>\r\n                <dt class=\"col-sm-6\">\r\n                    Муниципальный бюджет\r\n                </dt>\r\n                <dd class=\"col-sm-6 finance-sum\">\r\n\r\n                    ");
            EndContext();
            BeginContext(1567, 33, false);
#line 61 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Helpers.ToKMB(Model.FinanceLocal));

#line default
#line hidden
            EndContext();
            BeginContext(1600, 204, true);
            WriteLiteral(" ₽\r\n\r\n                </dd>\r\n                <dt class=\"col-sm-6\">\r\n                    Федеральный бюджет\r\n                </dt>\r\n                <dd class=\"col-sm-6 finance-sum\">\r\n\r\n                    ");
            EndContext();
            BeginContext(1805, 20, false);
#line 69 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Model.FinanceFederal);

#line default
#line hidden
            EndContext();
            BeginContext(1825, 82, true);
            WriteLiteral(" ₽\r\n                </dd>\r\n            </dl>\r\n        </div>\r\n    </div>\r\n</div>\r\n");
            EndContext();
#line 75 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
 if (Model.ActualStart == DateTime.MinValue)
{

#line default
#line hidden
            BeginContext(1956, 279, true);
            WriteLiteral(@"    <div class=""row"" style=""margin-bottom: 1rem;"">
        <div class=""col-md-12"">

            <h4>Планируемый план ремонтно-дорожных работ</h4>
            <hr />
            <div class=""map-wrapper"">
                <div id=""mapContainer"" style=""height: 500px;""></div>
");
            EndContext();
#line 84 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                 if (Model.PlannedStartLat == 0 || Model.PlannedEndLat == 0 )
                {

#line default
#line hidden
            BeginContext(2333, 123, true);
            WriteLiteral("                    <span class=\"map-wrapper-warning\">К сожалению, информация о данной работе на карте не доступна</span>\r\n");
            EndContext();
#line 87 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                }

#line default
#line hidden
            BeginContext(2475, 50, true);
            WriteLiteral("            </div>\r\n\r\n        </div>\r\n    </div>\r\n");
            EndContext();
            BeginContext(2527, 254, true);
            WriteLiteral("    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <dl class=\"row\">\r\n                <dt class=\"col-sm-3\">\r\n                    Планируемая дата начала\r\n                </dt>\r\n                <dd class=\"col-sm-8\">\r\n\r\n                    ");
            EndContext();
            BeginContext(2782, 42, false);
#line 101 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Model.PlannedStart.ToString("dd MMM yyyy"));

#line default
#line hidden
            EndContext();
            BeginContext(2824, 198, true);
            WriteLiteral("\r\n\r\n                </dd>\r\n                <dt class=\"col-sm-3\">\r\n                    Планируемая дата окончания\r\n                </dt>\r\n                <dd class=\"col-sm-8\">\r\n\r\n                    ");
            EndContext();
            BeginContext(3023, 40, false);
#line 109 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Model.PlannedEnd.ToString("dd MMM yyyy"));

#line default
#line hidden
            EndContext();
            BeginContext(3063, 72, true);
            WriteLiteral("\r\n                </dd>\r\n            </dl>\r\n        </div>\r\n    </div>\r\n");
            EndContext();
#line 114 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"


}
else
{

#line default
#line hidden
            BeginContext(3151, 426, true);
            WriteLiteral(@"    <div class=""row"" style=""margin-bottom: 1rem;"">
        <div class=""col-md-6"">

            <h4>Планируемый план работ</h4>
            <hr />
            <div id=""mapContainer"" style=""height: 500px;""></div>
        </div>
        <div class=""col-md-6"">

            <h4>Актуальный план работ</h4>
            <hr />
            <div id=""mapContainer2"" style=""height: 500px;""></div>
        </div>
    </div>
");
            EndContext();
            BeginContext(3579, 253, true);
            WriteLiteral("    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <dl class=\"row\">\r\n                <dt class=\"col-sm-6\">\r\n                    Планируемая дата начала\r\n                </dt>\r\n                <dd class=\"col-sm-6\">\r\n\r\n                    ");
            EndContext();
            BeginContext(3833, 42, false);
#line 142 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Model.PlannedStart.ToString("dd MMM yyyy"));

#line default
#line hidden
            EndContext();
            BeginContext(3875, 196, true);
            WriteLiteral("\r\n                </dd>\r\n                <dt class=\"col-sm-6\">\r\n                    Планируемая дата окончания\r\n                </dt>\r\n                <dd class=\"col-sm-6\">\r\n\r\n                    ");
            EndContext();
            BeginContext(4072, 40, false);
#line 149 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Model.PlannedEnd.ToString("dd MMM yyyy"));

#line default
#line hidden
            EndContext();
            BeginContext(4112, 289, true);
            WriteLiteral(@"
                </dd>
            </dl>
        </div>
        <div class=""col-md-6"">

            <dl class=""row"">
                <dt class=""col-sm-6"">
                    Актуальная дата начала
                </dt>
                <dd class=""col-sm-6"">
                    ");
            EndContext();
            BeginContext(4402, 41, false);
#line 160 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
               Write(Model.ActualStart.ToString("dd MMM yyyy"));

#line default
#line hidden
            EndContext();
            BeginContext(4443, 173, true);
            WriteLiteral("\r\n                </dd>\r\n                <dt class=\"col-sm-6\">\r\n                    Актуальная дата окончания\r\n                </dt>\r\n                <dd class=\"col-sm-6\">\r\n");
            EndContext();
#line 166 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                     if (Model.ActualEnd == DateTime.MinValue)
                    {

#line default
#line hidden
            BeginContext(4702, 57, true);
            WriteLiteral("                        <span>В процессе работы.</span>\r\n");
            EndContext();
#line 169 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                    }
                    else {
                        

#line default
#line hidden
            BeginContext(4835, 39, false);
#line 171 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                   Write(Model.ActualEnd.ToString("dd MMM yyyy"));

#line default
#line hidden
            EndContext();
#line 171 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                                                
                    }

#line default
#line hidden
            BeginContext(4899, 74, true);
            WriteLiteral("\r\n                </dd>\r\n            </dl>\r\n\r\n        </div>\r\n    </div>\r\n");
            EndContext();
#line 180 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
     if ((int)(Model.ActualStart - Model.PlannedStart).TotalDays > 2)
    {

#line default
#line hidden
            BeginContext(5053, 304, true);
            WriteLiteral(@"        <div class=""warning row"">
            <div class=""col-md-12"">

                <h4>Сроки не совпадают</h4>
                <hr />

            </div>
            <div class=""col-md-12"">
                Согласно данным нашего сервиса данные ремонтно-дорожные работы начаты с опозданием на ");
            EndContext();
            BeginContext(5359, 55, false);
#line 190 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                                                                                  Write((int)(Model.ActualStart - Model.PlannedStart).TotalDays);

#line default
#line hidden
            EndContext();
            BeginContext(5415, 7, true);
            WriteLiteral(" дней\r\n");
            EndContext();
#line 191 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                 if (Model.ActualEnd != DateTime.MinValue)
    {
        if ((int)(Model.ActualEnd - Model.PlannedEnd).TotalDays > 0)
        {

#line default
#line hidden
            BeginContext(5570, 47, true);
            WriteLiteral("            <span> и закончены с опозданием на ");
            EndContext();
            BeginContext(5619, 51, false);
#line 195 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                           Write((int)(Model.ActualEnd - Model.PlannedEnd).TotalDays);

#line default
#line hidden
            EndContext();
            BeginContext(5671, 73, true);
            WriteLiteral(" дней.</span><span>Общая сумма пеней составляет 0.01 % за день просрочки ");
            EndContext();
            BeginContext(5746, 126, false);
#line 195 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                                                                                                                                                          Write((int)(Model.ActualEnd - Model.PlannedEnd).TotalDays * 0.0001 * (Model.FinanceArea + Model.FinanceFederal + Model.FinanceLocal));

#line default
#line hidden
            EndContext();
            BeginContext(5873, 10, true);
            WriteLiteral(" </span>\r\n");
            EndContext();
#line 196 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"

}
else
{

#line default
#line hidden
            BeginContext(5897, 47, true);
            WriteLiteral("            <span> и закончены в срок.</span>\r\n");
            EndContext();
#line 201 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
}
}

#line default
#line hidden
            BeginContext(5950, 123, true);
            WriteLiteral("                . <br/><strong>Штраф (пени) по договору составляют 16 000  ₽</strong>\r\n            </div>\r\n        </div>\r\n");
            EndContext();
#line 206 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
    }

#line default
#line hidden
#line 206 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
     
}

#line default
#line hidden
            BeginContext(6083, 562, true);
            WriteLiteral(@"







        <script>
         var platform = new H.service.Platform({
  'app_id': 'hwsacH3LqmkOHfV7DjIR',
  'app_code': 'CVFdBhRJpDiSh9hCNUzMaw'
});

var defaultLayers = platform.createDefaultLayers();
var group = new H.map.Group();
var map = new H.Map(
  document.getElementById('mapContainer'),
  defaultLayers.normal.map);
  var hereMapsUrl = 'https://route.api.here.com/routing/7.2/calculateroute.json?app_id=hwsacH3LqmkOHfV7DjIR&app_code=CVFdBhRJpDiSh9hCNUzMaw&representation=display'
    hereMapsUrl = hereMapsUrl + '&waypoint0=geo!");
            EndContext();
            BeginContext(6646, 21, false);
#line 228 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                           Write(Model.PlannedStartLat);

#line default
#line hidden
            EndContext();
            BeginContext(6667, 1, true);
            WriteLiteral(",");
            EndContext();
            BeginContext(6669, 21, false);
#line 228 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                                                  Write(Model.PlannedStartLng);

#line default
#line hidden
            EndContext();
            BeginContext(6690, 52, true);
            WriteLiteral("\';\r\n    hereMapsUrl = hereMapsUrl + \'&waypoint1=geo!");
            EndContext();
            BeginContext(6743, 19, false);
#line 229 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                           Write(Model.PlannedEndLat);

#line default
#line hidden
            EndContext();
            BeginContext(6762, 1, true);
            WriteLiteral(",");
            EndContext();
            BeginContext(6764, 19, false);
#line 229 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                                                                Write(Model.PlannedEndLng);

#line default
#line hidden
            EndContext();
            BeginContext(6783, 1204, true);
            WriteLiteral(@"';
        hereMapsUrl = hereMapsUrl +'&mode=fastest;car;traffic:disabled;';
        $.get(hereMapsUrl,function(data2) {
            var lineString = new H.geo.LineString();

            for(j=0;j<data2.response.route[0].leg[0].maneuver.length;j++) {
                for(k=0;k<data2.response.route[0].leg[0].maneuver[j].shape.length;k++) {
                    var maneuverStr = data2.response.route[0].leg[0].maneuver[j].shape[k];
                    var lat = parseFloat(maneuverStr.split(',')[0]);
                    var lng = parseFloat(maneuverStr.split(',')[1]);
                    lineString.pushPoint({lat: lat, lng: lng});
                }
            }
            map.addObject(new H.map.Polyline(
                lineString, { style: { lineWidth: 15,
        strokeColor: ""#7CFC00""}}
            ));
            map.setViewBounds(lineString.getBounds());


        })


var map2 = new H.Map(
  document.getElementById('mapContainer2'),
  defaultLayers.normal.map);
  var hereMapsUrl =");
            WriteLiteral(" \'https://route.api.here.com/routing/7.2/calculateroute.json?app_id=hwsacH3LqmkOHfV7DjIR&app_code=CVFdBhRJpDiSh9hCNUzMaw&representation=display\'\r\n\r\n    $.get(\'/api/sign/bywork/?id=");
            EndContext();
            BeginContext(7988, 8, false);
#line 257 "/Users/victorleontyev/Projects/HackathonWeb/HackathonWeb/Views/Works/Details.cshtml"
                           Write(Model.Id);

#line default
#line hidden
            EndContext();
            BeginContext(7996, 1093, true);
            WriteLiteral(@"',function(data){
        for(i=0;i<data.length;i++) {
            hereMapsUrl = hereMapsUrl + '&waypoint'+ i + '=geo!'+data[i].lat + ',' +  data[i].lng;
        }
        hereMapsUrl = hereMapsUrl +'&mode=fastest;car;traffic:disabled';
        $.get(hereMapsUrl,function(data2) {
            var lineString = new H.geo.LineString();


            for(j=0;j<data2.response.route[0].leg[0].maneuver.length;j++) {
                for(k=0;k<data2.response.route[0].leg[0].maneuver[j].shape.length;k++) {
                    var maneuverStr = data2.response.route[0].leg[0].maneuver[j].shape[k];
                    var lat = parseFloat(maneuverStr.split(',')[0]);
                    var lng = parseFloat(maneuverStr.split(',')[1]);
                    lineString.pushPoint({lat: lat, lng: lng});
                }
            }

            map2.addObject(new H.map.Polyline(
                lineString, { style: { lineWidth: 10,
        strokeColor: ""#f00""}}
            ));

            map2.setViewBo");
            WriteLiteral("unds(lineString.getBounds());\r\n        })\r\n    });\r\n        </script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<HackathonWeb.Context.Models.Work> Html { get; private set; }
    }
}
#pragma warning restore 1591
